<ui-layout class="display-desktop" options="{ flow : 'column' }">
  <ui-layout-container>
	<md-list class="messages-list" flex>
	  <md-subheader class="md-no-sticky">Files</md-subheader>

	  <md-list-item class="md-1-line" ng-repeat="file in files.list" track by file._id>
		  <div flex class="md-list-item-text" layout="row" layout-align="space-between center">
		    	<div flex="50"><a class="no-link-decoration" ng-click="files.changeView(file)"><small>{{ file.name }}</small></a></div>
		    	<div><a ng-click="files.delete(file._id)"><i class="fa fa-times-circle" aria-hidden="true"></i></a></div>
		  </div>
	  </md-list-item>
	</md-list>
	<form ng-submit="files.post()" layout="row" layout-padding>
	  <div class="input-group">
		  <span class="input-group-label"><i class="fa fa-file" aria-hidden="true"></i></span>
		  <input class="input-group-field" type="text" ng-model="files.fileName">
		  <div class="input-group-button">
		    <input type="submit" class="button" value="New File">
		  </div>
		</div>
	</form>
  </ui-layout-container>
  <ui-layout-container size="50%">
	<md-toolbar>
      <div class="md-toolbar-tools">
        <md-button aria-label="Save" ng-click="files.save()">
          Save
        </md-button>
        <span flex></span>
        <md-button aria-label="Main Menu" ng-href="#/mainMenu">
          Main Menu
        </md-button>
      </div>
    </md-toolbar>
	<ui-codemirror ui-codemirror-opts="files.opts" ng-model="subSource"></ui-codemirror>
  </ui-layout-container>
  <ui-layout-container size="25%">
	<messages-view></messages-view>
  </ui-layout-container>
</ui-layout>